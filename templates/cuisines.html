{% extends "base.html" %} {% block content %}

<!--Page callout header-->
<section class="container" id="cuisine-callout">
  <img
    id="page-img"
    src="{{ url_for('static', filename='assets/images/recipes-img.jpg') }}"
    alt="background"
  />
  <div id="page-overlay-text">
    <!--Page title-->
    <h3>Cuisines</h3>
    <!--Add recipes btn-->
    {% if session.user|lower == "lucyjpj"|lower %}
    <a id="add-recipe-btn" class="btn" href="{{ url_for('add_cuisine') }}"
      >Add cuisine <i class="material-icons">add_circle_outline</i>
    </a>
    {% endif %}
    <!--Callout text-->
    <div class="row form-row">
      <p id="cuisine-p">
        Travel the world from your own kitchen with a wide collection of tasty
        cuisines.
      </p>
    </div>
  </div>
</section>

<!--Cuisine card structure-->
<div id="card-container">
  <div class="row">
    {% for cuisine in cuisines %}
    <div class="col s6 m4 l3">
      <div href="" id="cuisine-card" class="card">
        <!--Cuisine card image-->
        <div class="card-image" id="card-img">
          <a href="{{ url_for('filter_cuisine') }}">
            <img src="{{ cuisine.img_url }}" alt="Cuisine image" />
          </a>
        </div>
        <!--Cuisine card cuisine name-->
        <div id="card-info" class="row card-content">
          <div class="col s12">
            <p id="card-title">
              <strong
                ><i class="fas fa-globe-europe"></i> {{ cuisine.cuisine_name
                }}</strong
              >
            </p>
            <p>Cuisine</p>
          </div>

          <!--Cuisine card edit & delete btns, only visible when logged in as lucyjpj-->
          <div id="card-btns">
            <div id="card-edit-row" class="col s12">
              {% if session.user|lower == "lucyjpj"|lower %}
              <!--Edit btn-->
              <a
                href="{{ url_for('edit_cuisine', cuisine_id=cuisine._id) }}"
                id="card-edit"
                class="btn right"
                >Edit</a
              >
            </div>
            <!--Delete btn and modal for delete confirmation-->
            <div id="card-delete-row" class="col s12">
              <!-- Delete btn and modal trigger -->
              <a
                data-target="{{ cuisine._id }}"
                id="card-del"
                class="btn right modal-trigger"
                >Delete</a
              >
              {% endif %}

              <!-- Modal structure -->
              <div id="{{ cuisine._id }}" class="modal">
                <div class="modal-content">
                  <h5>Are you sure you want to delete this cuisine?</h5>
                </div>
                <br />
                <div class="modal-footer">
                  <a href="#!" id="modal-close" class="modal-close btn"
                    >cancel</a
                  >
                  <a
                    href="{{ url_for('delete_cuisine', cuisine_id=cuisine._id) }}"
                    id="modal-confirm"
                    class="btn"
                    >Confirm</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
